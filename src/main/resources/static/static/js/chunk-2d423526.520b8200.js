(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d423526"],{4731:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"g",(function(){return l})),a.d(e,"a",(function(){return s}));var r=a("b775");function n(t){return Object(r["a"])({url:"/port/getPage",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/port/getPortList",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/port/delete",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/port/save",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/port/batchSave",method:"post",data:t})}},4942:function(t,e,a){"use strict";var r=a("ced1"),n=a.n(r);n.a},aa22:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"d",(function(){return l}));var r=a("b775");function n(t){return Object(r["a"])({url:"/server/getPage",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/server/getList",method:"get",data:t})}function i(t){return Object(r["a"])({url:"/server/delete",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/server/save",method:"post",data:t})}},b2dd:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"searchBody"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus"},on:{click:t.showAddDialog}},[t._v("添加端口")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"行号",type:"index",width:"50"}}),a("el-table-column",{attrs:{label:"本地端口",prop:"localPort"}}),a("el-table-column",{attrs:{label:"外网端口",prop:"internetPort"}}),a("el-table-column",{attrs:{label:"所属服务器",prop:"serverName"}}),a("el-table-column",{attrs:{label:"服务器IP",prop:"serverHost"}}),a("el-table-column",{attrs:{label:"创建时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("parseTime")(e.row.createTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"修改时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("parseTime")(e.row.updateTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",title:"编辑"},on:{click:function(a){return t.showEditDialog(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"mini",title:"复制"},on:{click:function(a){return t.copyRow(e.row)}}},[t._v("复制")]),a("el-button",{attrs:{type:"danger",size:"mini",title:"删除"},on:{click:function(a){return t.deleteData(e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,50],"page-size":t.searchForm.pageSize,"current-page":t.searchForm.pageNum,layout:"total, sizes, prev, pager, next, jumper",total:t.dataTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"添加端口",visible:t.addDialog,width:"30%"},on:{"update:visible":function(e){t.addDialog=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addFormRules,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"所属服务器",prop:"serverId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:""},model:{value:t.addForm.serverId,callback:function(e){t.$set(t.addForm,"serverId",e)},expression:"addForm.serverId"}},t._l(t.serverList,(function(t,e){return a("el-option",{key:t+e,attrs:{label:t.serverName,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"本地端口",prop:"localPort",rules:[{required:!0,message:"端口不能为空"},{type:"number",message:"端口必须为数字值"}]}},[a("el-input",{attrs:{size:"mini"},model:{value:t.addForm.localPort,callback:function(e){t.$set(t.addForm,"localPort",t._n(e))},expression:"addForm.localPort"}})],1),a("el-form-item",{attrs:{label:"外网端口",prop:"internetPort",rules:[{required:!0,message:"端口不能为空"},{type:"number",message:"端口必须为数字值"}]}},[a("el-input",{attrs:{size:"mini"},model:{value:t.addForm.internetPort,callback:function(e){t.$set(t.addForm,"internetPort",t._n(e))},expression:"addForm.internetPort"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmAddForm}},[t._v("确 定")])],1)],1)],1)},n=[],o=a("4731"),i=a("aa22"),l={data:function(){return{tableData:[],dataTotal:null,serverList:[],searchForm:{pageSize:10,pageNum:1},addForm:{id:null,username:null,addType:"add",password:null},addFormRules:{serverId:[{required:!0,trigger:"blur",message:"必需项"}],localPort:[{required:!0,trigger:"blur",message:"必需项"}],internetPort:[{required:!0,trigger:"blur",message:"必需项"}]},addDialog:!1}},mounted:function(){this.initServerList(),this.getData()},methods:{getData:function(){var t=this;Object(o["d"])(this.searchForm).then((function(e){t.tableData=e.data.list,t.dataTotal=e.data.total}))},deleteData:function(t){var e=this;this.$confirm("确认删除?",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["deleteData"])({id:t.id}).then((function(t){e.$notify({message:"删除成功",type:"success"}),e.getData()}))}))},confirmAddForm:function(){var t=this;this.$refs["addForm"].validate((function(e){e&&Object(o["save"])(t.addForm).then((function(e){t.$notify({message:"保存成功",type:"success"}),t.addDialog=!1,t.getData()}))}))},handleSizeChange:function(t){this.searchForm.pageSize=t,this.getData()},handleCurrentChange:function(t){this.searchForm.pageNum=t,this.getData()},initServerList:function(){var t=this;Object(i["b"])().then((function(e){t.serverList=e.data}))},showAddDialog:function(){this.addDialog=!0,this.addForm.addType="add",this.addForm.id=null},showEditDialog:function(t){this.addDialog=!0,this.addForm=t,this.addForm.addType="edit"},copyRow:function(t){this.addDialog=!0,this.addForm=t,this.addForm.id=null,this.addForm.addType="add"}}},s=l,d=(a("4942"),a("2877")),u=Object(d["a"])(s,r,n,!1,null,"dac09a84",null);e["default"]=u.exports},ced1:function(t,e,a){}}]);